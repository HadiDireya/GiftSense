@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: light;
    --page-bg: #FFF7EB;

    /* Light theme palette (provided) */
    --palette-primary: #99CDD8; /* Primary */
    --palette-secondary: #DAEBE3; /* Secondary */
    --palette-accent: #FDE8D3; /* Accent */
    --palette-soft-pink: #F3C3B2; /* Soft Pink */
    --palette-neutral: #CFD6C4; /* Neutral */
    --palette-text: #657166; /* Text/Dark */

    /* Derived colors for backgrounds / surfaces */
    --bg-surface: #BECFDF;
    --bg-muted: #FBFDFB;
    --fg-default: var(--palette-text);
    --fg-on-primary: #ffffff;
    --shadow-color: rgba(16,24,32,0.06);
  }

  :root.dark {
    color-scheme: dark;

    /* For dark mode we invert contrast: darker backgrounds and lighter text */
    --palette-primary: #275358; /* darker tint of primary to keep balance */
    --palette-secondary: #24413b;
    --palette-accent: #6b4a3a;
    --palette-soft-pink: #6a3f36;
    --palette-neutral: #33504a;
    --palette-text: #e6eef0; /* light text for contrast */

    --bg-surface: #BECFDF;
    --bg-muted: #08121a;
    --fg-default: var(--palette-text);
    --fg-on-primary: #0b1220;
    --shadow-color: rgba(0,0,0,0.6);
  }

  html, body, #root {
    height: 100%;
  }

  html, body, #root {
    background-color: var(--page-bg) !important;
    min-height: 100%;
  }

  body {
    margin: 0;
    min-height: 100vh;
    background: var(--bg-surface);
    color: var(--fg-default);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Hidden Scrollbar Styles */
  * {
    scrollbar-width: none;
  }

  *::-webkit-scrollbar {
    display: none;
  }
}

@layer components {
  .chat-bubble {
    @apply rounded-3xl px-6 py-4 transition-all duration-200;
    box-shadow: 0 4px 20px -4px rgba(0, 0, 0, 0.08), 0 20px 40px -4px rgba(0, 0, 0, 0.04);
  }

  .glass-effect {
    @apply bg-white/80 backdrop-blur-xl border border-white/20;
  }

  .glass-effect-dark {
    @apply bg-slate-900/80 backdrop-blur-xl border border-slate-800/50;
  }

  /* Sidebar search input â€” modern, rounded, soft shadow, theme-aware */
  .sidebar-search {
    width: 100%;
    padding: 0.6rem 0.9rem;
    border-radius: 12px;
    border: 1px solid rgba(0,0,0,0.06);
    background: color-mix(in srgb, var(--palette-secondary) 6%, rgba(255,255,255,0.85));
    color: var(--fg-default);
    box-shadow: 0 6px 18px -8px var(--shadow-color);
    transition: box-shadow 180ms ease, transform 120ms ease, border-color 180ms ease;
  }

  :root.dark .sidebar-search {
    background: color-mix(in srgb, var(--palette-primary) 6%, rgba(8,12,16,0.6));
    border: 1px solid rgba(255,255,255,0.06);
  }

  .sidebar-search::placeholder {
    color: color-mix(in srgb, var(--fg-default) 60%, transparent);
  }

  .sidebar-search:focus {
    outline: none;
    box-shadow: 0 8px 30px -12px var(--shadow-color);
    transform: translateY(-1px);
    border-color: var(--palette-primary);
  }
}
